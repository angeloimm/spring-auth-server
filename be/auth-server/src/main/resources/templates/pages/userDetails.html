<!-- usersForm.html -->
<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.2/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/webjars/datatables/1.13.5/css/dataTables.bootstrap5.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/site.css}"/>
</head>
<body>
<th:block layout:fragment="page-handlebars-template">
    <!-- Handlebars template for the user details modal -->
    <script id="templateAddUser" type="text/x-handlebars-template">
        <div class="modal-header">
            <h5 class="modal-title">{{modalTitle}}</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <form th:action="@{/protected/users/add}" th:object="${user}" method="POST">
                <label th:text="#{user.username}"></label>
                <input type="text" th:field="*{username}" class="form-control col-4 mb-4"
                       th:placeholder="#{user.username}"/>
                <label th:text="#{user.name}"></label>
                <input type="text" th:field="*{name}" class="form-control col-4 mb-4" th:placeholder="#{user.name}"/>
                <label th:text="#{user.lastname}"></label>
                <input type="text" th:field="*{lastName}" class="form-control col-4 mb-4"
                       th:placeholder="#{user.lastname}"/>
                <label th:text="#{user.mail}"></label>
                <input type="text" th:field="*{email}" class="form-control col-4 mb-4"
                       th:placeholder="#{user.mail}"/>
                <label th:text="#{user.role}"></label>
                <select th:field="*{role}">
                    <option th:each="role : ${roles}"
                            th:value="${role}" th:text="${role}"></option>
                </select><br/><br/>
                <label th:text="#{user.enabled}"></label>
                <input type="checkbox" th:field="*{enabled}"/><br/><br/>
                <button type="submit" class="btn btn-primary col-2">Save</button>
                <button type="reset" class="btn btn-secondary col-2">Reset</button>
                <th:block th:if="${user.id != null and user.id != ''}">
                    <input type="hidden" th:field="*{id}"/>
                </th:block>
            </form>
        </div>
    </script>
</th:block>

<!-- Include the userForm script -->
<th:block layout:fragment="page-script">
    <script th:src="@{/js/protected.userForm.js}" type="text/javascript"></script>
</th:block>
</body>
</html>